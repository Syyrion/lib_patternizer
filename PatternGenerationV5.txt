Generation
======
Patterns will first pick a pivot. (This pivot can be specified as an absolute position in the header if so desired.)
This is a reference position that all other patterns are based on.
It is absolute and won't change as a pattern is generated.

There is also a relative pivot.
This pivot starts at the absolute pivot but can be changed by using the <relpivot> section.



Legend
======
n = Any number.
X = Any linked character.
Semicolons can be used to separate rows but are optional.



Header
=====
The header contains optional information used to initialize the pattern.
Starts with a > sign.
These are two numbers separated by commas.

>[<startpos>],[<relpos>],[<tolerance>],[<forcesides>]


<startpos>
======
Specify an absolute staring position for the pattern.
This overrides the usual random positioning of patterns.


<relpos>
======
Specifies a starting position for the relative pivot relative to the absolute pivot.
Defaults to 0.

<tolerance>
======
A thickness value which is added to all thicknesses.
This can be used to prevent seams from forming in patterns.
Only applies to non-absolute thicknesses
Defaults to 10.

<forcesides>
======
Forces pattern generation to be calculated as if there were this many sides.
Overrides the automatic determination of the amount of sides.



Structure
======
The structure is divided into 4 sections separated by commas.
Every section is optional. A section can be "skipped over" by leaving its spot blank between two commas: , ,
Commas aren't needed for sections that are omitted at the end of the line.
A completely empty line is ignored.

[<block>],[thickness],[<relpivot>],[<positioning>]



<block>
======
The part that determines how patterns are generated.
The vertical bar separates the looping and non-looping parts

<non-looping> | <looping>

Strictly non-looping
XXXXXX| OR XXXXXX

Strictly looping
|XXXXXX

Combined
XXX|XXX



<thickness>
======
The part that determines how thick the layer is.
If the number is omitted, then it's assumed to be 1, except for absolute thickness where it's assumed to be 40.
If completely omitted, it's assumed to be 1*

n!
Absolute thickness.

n*
Dynamic thickness. Changes units of thickness to units of ideal thickness.

n? or n?-
Flags this layer as a padding layer. The thickness will be dynamically chosen depending on how the relative pivot moves.
Based on the shortest path.
n is now a multiplier of the thickness of this layer.

n?+
Flags this layer as a padding layer. The thickness will be dynamically chosen depending on how the relative pivot moves.
Based on the longest path.
n is now a multiplier of the thickness of this layer.



<relpivot>
======
The part that determines where the relative pivot should move.
If completely omitted, it's assumed to be 0*

n!
Move relative pivot to position n relative to absolute pivot.
If the number is omitted, then it's assumed to be 0.

n*
Move relative pivot to position n relative to relative pivot (offsetting).
If the number is omitted, then it's assumed to be 0.

?
Move relative pivot to a random position

n?!n
Randomly positions the relative pivot based on absolute positioning between two numbers (inclusive).
Negative numbers are accepted and allow indexing from the opposite direction.
If the second number is omitted, it's assumed to be the negative of the first.
If the first number is omitted, an error is triggered.

n?*n
Randomly offset the relative pivot with values between two numbers (inclusive).
Negative numbers are accepted.
If the second number is omitted, it's assumed to be the negative of the first.
If the first number is omitted, an error is triggered.


n?^n
Randomly offset the relative pivot with values between two numbers (inclusive) excluding 0.
This allows for non-repeating patterns.
Negative numbers are accepted.
If the second number is omitted, it's assumed to be the negative of the first.
If both numbers are omitted, picks a random position except for the current one.



<positioning>
======
The part that determines how patterns are positioned.
If the number is omitted, then it's assumed to be 0.
If completely omitted, it's assumed to be 0*

n!
Position relative to absolute pivot.

n*
Position relative to relative pivot.



Vertical Looping
======
An opening bracket followed by a number starts a vertical loop which repeats all rows contained within it.
Can be nested.

[n
    -- Repeat n times
]


Repeat a random amount of times specified by an inclusive range.

[n, n
    -- Repeat random number of times
]
